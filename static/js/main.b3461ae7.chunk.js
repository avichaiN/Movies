(this["webpackJsonpmovie--useeffect"]=this["webpackJsonpmovie--useeffect"]||[]).push([[0],{11:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),n=s(6),c=s.n(n),o=(s(11),s(2)),r=s(3),d=s.n(r),b=s(4),p=s(0),m=function(e,t,s,a,i){var n=i.map((function(e){return Object(p.jsxs)("div",{className:"singleMovie card",children:[Object(p.jsx)("img",{className:"card-img-top",alt:e.title,src:e.poster}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("h4",{className:"card-title",children:e.title})}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("button",{onClick:function(){return t=e.IMDB,s(!0),void a(t);var t},className:"btn btn-primary m-auto",children:"More info"})})]},e.IMDB)}));t(!0),e(n)},l=[],h=function(){var e=Object(b.a)(d.a.mark((function e(t,s,a,i,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-movies-images-by-imdb&imdb=".concat(t),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){l.push(e)}));case 2:5===l.length&&m(s,a,i,n,l);case 3:case"end":return e.stop()}}),e)})));return function(t,s,a,i,n){return e.apply(this,arguments)}}(),u=function(e,t,s,a){console.log("in fetch trending"),fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-trending-movies&limit=10",{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(i){var n=i.movie_results;n.splice(n.length-15),l=[],setTimeout((function(){n.forEach((function(i){h(i.imdb_id,e,t,s,a)}))}),1e3)}))},j=function(){return Object(p.jsx)("div",{className:"load"})},v=function(e){return Object(p.jsx)("div",{className:"movies",children:e.foundMovies})},f=function(e,t,s,a){var i=e.genres.join(", "),n=e.directors.join(", "),c=e.stars.slice(0,10).join(", ");s(Object(p.jsx)("div",{className:"card moreInfoCard",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-sm-3 moreInfoImg",children:Object(p.jsx)("img",{src:t,className:"card-img-top",alt:"..."})}),Object(p.jsx)("div",{className:"col-sm-9 mt-1",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:["Title: ",e.title]}),Object(p.jsxs)("p",{className:"card-text",children:["IMDB Rating: ",e.imdb_rating]}),Object(p.jsxs)("p",{className:"card-text",children:["Genres: ",i]}),Object(p.jsxs)("p",{className:"card-text",children:["Published Year: ",e.year]}),Object(p.jsxs)("p",{className:"card-text",children:["Description: ",e.description]}),Object(p.jsxs)("p",{className:"card-text",children:["Main actors: ",c]}),Object(p.jsxs)("p",{className:"card-text",children:["Directors: ",n]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){a(!1),s("")},children:"Close"})]})})]})}))},x=function(e,t,s,a){fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-movies-images-by-imdb&imdb=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){var i=e.poster;f(t,i,s,a)}))},O=function(e,t,s){fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-movie-details&imdb=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(a){x(e,a,t,s),f(a,t,s)}))},g=function(e){var t=e.moreInfoId,s=e.setMoreInfo,i=e.showMoreInfo,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],d=c[1];return Object(a.useEffect)((function(){!0===i&&O(t,d,s)}),[i]),Object(p.jsx)("div",{children:r})},M=function(){return Object(p.jsx)("h1",{className:"mainTitle",children:"Search for Movies"})},N=[],y=function(){var e=Object(b.a)(d.a.mark((function e(t,s,a,i,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-movies-images-by-imdb&imdb=".concat(t),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){N.push(e)}));case 2:10===N.length&&m(s,a,i,n,N);case 3:case"end":return e.stop()}}),e)})));return function(t,s,a,i,n){return e.apply(this,arguments)}}(),I=function(e,t,s,a){fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-upcoming-movies&page=1",{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(i){var n=i.movie_results;n.splice(n.length-10),N=[],setTimeout((function(){n.forEach((function(i){y(i.imdb_id,e,t,s,a)}))}),1e3)}))},T=[],w=function(){var e=Object(b.a)(d.a.mark((function e(t,s,a,i,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-movies-images-by-imdb&imdb=".concat(t),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){T.push(e)}));case 2:10===T.length&&m(s,a,i,n,T);case 3:case"end":return e.stop()}}),e)})));return function(t,s,a,i,n){return e.apply(this,arguments)}}(),S=function(e,t,s,a){fetch("https://movies-tvshows-data-imdb.p.rapidapi.com/?type=get-popular-movies&page=1&year=2020",{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movies-tvshows-data-imdb.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(i){var n=i.movie_results;n.splice(n.length-10),T=[],setTimeout((function(){n.forEach((function(i){w(i.imdb_id,e,t,s,a)}))}),1e3)}))},k=function(e){var t=e.setTrending,s=e.trendingMovies;return Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:"nav-link btn",onClick:function(){return t(!s)},children:"Trending"})})},E=function(e){e.setMovies;var t=e.setUpComing,s=e.upComingMovies;return Object(p.jsx)("button",{className:"nav-link btn",onClick:function(){t(!s)},children:"Upcoming"})},C=function(e){e.setMovies;var t=e.popularMovies,s=e.setPopular;return Object(p.jsx)("button",{className:"nav-link btn",onClick:function(){s(!t)},children:"Popular"})},D=function(e,t,s,a,i){if(void 0!==t){var n=t.map((function(e){return"N/A"===e.Poster||"series"===e.Type?null:Object(p.jsxs)("div",{className:"singleMovie card",children:[Object(p.jsx)("img",{className:"card-img-top",alt:e.Title,src:e.Poster}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("h4",{className:"card-title",children:e.Title})}),Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("button",{onClick:function(){return t=e.imdbID,s(!0),void a(t);var t},className:"btn btn-primary m-auto",children:"More info"})})]},e.imdbID)}));i(!0),e(n)}else i(!0),e(Object(p.jsx)("div",{children:"No Results Found!"}))},G=function(e,t,s,a,i){fetch("https://movie-database-imdb-alternative.p.rapidapi.com/?s=".concat(t,"&page=1&r=json"),{method:"GET",headers:{"x-rapidapi-key":"b409cd8af1mshbcaed3005a81a3bp157457jsnee4ece4ea8bd","x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(t){var n=t.Search;D(e,n,s,a,i)}))},P=function(e){return Object(p.jsxs)("form",{className:"d-flex search",onSubmit:function(t){t.preventDefault();var s=t.target.children.searchedMovie.value;s.length>=2?(e.setDisplaySearch(!1),e.setMovies(""),G(e.setMovies,s,e.setMoreInfo,e.setMoreInfoId,e.setDisplaySearch),e.setSubTitle("Movies that match: ".concat(s)),e.setMoreInfo(!1),t.target.children.searchedMovie.placeholder="Movie",t.target.reset()):(t.target.reset(),t.target.children.searchedMovie.placeholder="Must be more then 2 characters.")},children:[Object(p.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Movie","aria-label":"Search",name:"searchedMovie"}),Object(p.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})},_=function(e){var t=e.setMovies,s=e.setTrending,a=e.trendingMovies,i=e.popularMovies,n=e.setPopular,c=e.setUpComing,o=e.upComingMovies,r=e.setMoreInfo,d=e.setMoreInfoId,b=e.setDisplaySearch,m=e.setSubTitle;return Object(p.jsx)("div",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)("a",{className:"navbar-brand",href:"#",children:"Movies"}),Object(p.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(k,{setTrending:s,trendingMovies:a})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(C,{setMovies:t,popularMovies:i,setPopular:n})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(E,{setMovies:t,setUpComing:c,upComingMovies:o})})]}),Object(p.jsx)(P,{setMovies:t,setMoreInfo:r,setMoreInfoId:d,setDisplaySearch:b,setSubTitle:m})]})})};var U=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),s=t[0],i=t[1],n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],d=c[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),l=m[0],h=m[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),O=x[0],N=x[1],y=Object(a.useState)(""),T=Object(o.a)(y,2),w=T[0],k=T[1],E=Object(a.useState)(!1),C=Object(o.a)(E,2),D=C[0],G=C[1],P=Object(a.useState)(!1),U=Object(o.a)(P,2),B=U[0],A=U[1],J=Object(a.useState)(!1),R=Object(o.a)(J,2),F=R[0],Y=R[1],q=Object(a.useState)(!0),z=Object(o.a)(q,2),H=z[0],K=z[1];return Object(a.useEffect)((function(){K(!1)}),[]),Object(a.useEffect)((function(){i(""),h("Trending Movies"),N(!1),d(!1),u(i,d,N,k)}),[D]),Object(a.useEffect)((function(){H||(i(""),h("Up Coming Movies"),N(!1),d(!1),I(i,d,N,k))}),[B]),Object(a.useEffect)((function(){H||(i(""),h("Popular Movies"),N(!1),d(!1),S(i,d,N,k))}),[F]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(M,{}),Object(p.jsx)(_,{setTrending:G,trendingMovies:D,setMovies:i,popularMovies:F,setPopular:Y,setUpComing:A,upComingMovies:B,setMoreInfo:N,setMoreInfoId:k,setDisplaySearch:d,setSubTitle:h}),r?Object(p.jsx)("div",{children:Object(p.jsx)("h3",{className:"subTitle",children:l})}):Object(p.jsx)(j,{}),O?Object(p.jsx)(g,{moreInfoId:w,setMoreInfo:N,showMoreInfo:O,setSubTitle:h}):Object(p.jsx)(v,{foundMovies:s,setMovies:i,setDisplaySearch:d,setMoreInfo:N,setMoreInfoId:k})]})};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b3461ae7.chunk.js.map